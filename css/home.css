/* =========================================
   3 SÜTUNLU ANA SAYFA (GRID)
   ========================================= */
.home-layout-grid {
    display: grid;
    /* Sol (270px) | Orta (Esnek) | Sağ (270px) */
    /* Yanları biraz kıstık ki ortadaki Chat'e yer kalsın ama 1250px'e sığsın */
    grid-template-columns: 270px 1fr 270px; 
    gap: 25px; /* Diğer sayfalarla aynı boşluk */
    
    /* KRİTİK AYAR 1: GENİŞLİK SINIRI */
    max-width: 1250px; /* Partiler ve Meclis sayfasıyla birebir aynı */
    margin: 0 auto;    /* Ortala */
    
    padding: 20px;
    
    /* KRİTİK AYAR 2: ALT SINIR (Kırmızı Çizgi) */
    /* Sayfa boyundan 80px çıkarıyoruz ki altta boşluk kalsın */
    height: calc(100vh - 80px); 
    
    overflow: hidden;
    align-items: start;
    animation: fadeIn 0.4s ease;
}

@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

/* =========================================
   SOL VE SAĞ SÜTUNLAR (WIDGET ALANLARI)
   ========================================= */
.home-col-left, .home-col-right {
    display: flex;
    flex-direction: column;
    gap: 15px;
    overflow-y: auto;
    padding-right: 5px;
}
/* Scrollbarı gizle */
.home-col-left::-webkit-scrollbar, .home-col-right::-webkit-scrollbar { display: none; }

/* ORTAK WIDGET STİLİ */
.home-widget {
    background-color: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 8px;
    overflow: hidden;
    flex-shrink: 0;
}

.widget-header {
    background: rgba(255,255,255,0.03);
    padding: 10px 15px; border-bottom: 1px solid var(--border);
}
.widget-header h3 { font-size: 0.9rem; color: var(--text-light); font-weight: 700; }

.widget-body { padding: 15px; display: flex; flex-direction: column; gap: 10px; }

/* 1. GÖREVLER (Kırmızı Çerçeve) */
/* .task-widget { border-top: 3px solid #ef4444; } */ /* İsteğe bağlı renkli çizgi */
.task-item {
    display: flex; justify-content: space-between; align-items: center;
    padding: 8px; background: rgba(255,255,255,0.02); border-radius: 6px;
    font-size: 0.85rem; border: 1px solid transparent;
}
.task-item.completed { border-color: #10b981; color: #10b981; opacity: 0.7; }
.task-info { display: flex; flex-direction: column; }
.task-title { color: var(--text-light); }
.task-reward { font-size: 0.7rem; color: #eab308; }

/* 2. DÜNYA HABERLERİ (Turuncu) */
.news-item { display: flex; align-items: center; gap: 10px; padding-bottom: 8px; border-bottom: 1px solid rgba(255,255,255,0.05); }
.news-item:last-child { border: none; padding-bottom: 0; }
.news-item img { border-radius: 2px; }
.news-content { display: flex; flex-direction: column; }
.news-head { font-size: 0.85rem; color: #cbd5e1; }
.news-time { font-size: 0.7rem; color: var(--text-dim); }

/* 3. BÖLGE/KONUM (Mavi) */
.region-info { display: flex; align-items: center; gap: 15px; }
.region-flag { border-radius: 6px; box-shadow: 0 2px 5px rgba(0,0,0,0.5); }
.region-info div { display: flex; flex-direction: column; }
.region-info strong { color: var(--text-light); }
.region-info small { color: #10b981; }

/* 4. GÜNDEM (Sarı) */
.agenda-item {
    padding: 8px; background: var(--bg-main); border-radius: 6px;
    font-weight: 600; color: #cbd5e1; font-size: 0.9rem;
    display: flex; justify-content: space-between;
}
.trend-up { color: #10b981; } .trend-down { color: #ef4444; }

/* 5. SOSYAL MEDYA (Kahverengi) */
.social-item {
    background: rgba(255,255,255,0.02); padding: 10px; border-radius: 6px;
    font-size: 0.8rem;
}
.social-head { display: flex; justify-content: space-between; margin-bottom: 5px; color: var(--primary); font-weight: 700; }
.social-likes { color: var(--text-dim); font-size: 0.7rem; }
.social-item p { color: #cbd5e1; font-style: italic; }

/* 6. MECLİS DURUMU (Pembe) */
.parl-row { display: flex; align-items: center; gap: 10px; padding: 5px 0; font-size: 0.85rem; }
.parl-color { width: 8px; height: 8px; border-radius: 50%; }
.parl-name { flex: 1; color: var(--text-dim); }
.parl-count { font-weight: 700; color: var(--text-light); }
.parl-more { font-size: 0.7rem; color: var(--text-dim); text-align: center; margin-top: 5px; }


/* =========================================
   ORTA SÜTUN: CHAT (BEYAZ ALAN)
   ========================================= */
.home-col-center {
    display: flex; flex-direction: column; height: 100%; min-width: 0;
}

.chat-container {
    background-color: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 12px;
    height: 100%;
    display: flex; flex-direction: column; overflow: hidden;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

.chat-header-tabs {
    display: flex; background: rgba(0,0,0,0.2); border-bottom: 1px solid var(--border);
}
.chat-tab {
    flex: 1; background: transparent; border: none; color: var(--text-dim);
    padding: 15px; font-weight: 600; cursor: pointer; border-bottom: 3px solid transparent;
    display: flex; align-items: center; justify-content: center; gap: 8px; transition: 0.2s;
}
.chat-tab:hover { color: var(--text-light); background: rgba(255,255,255,0.02); }
.chat-tab.active { color: var(--primary); border-bottom-color: var(--primary); background: rgba(59, 130, 246, 0.05); }

.chat-messages-area {
    flex: 1; overflow-y: auto; padding: 20px;
    display: flex; flex-direction: column; gap: 15px;
    background-image: radial-gradient(rgba(255,255,255,0.03) 1px, transparent 1px);
    background-size: 20px 20px;
}
.chat-messages-area::-webkit-scrollbar { width: 6px; }
.chat-messages-area::-webkit-scrollbar-thumb { background: var(--border); border-radius: 10px; }

/* Balonlar */
.chat-msg { display: flex; gap: 10px; align-items: flex-end; max-width: 85%; }
.chat-msg.me { align-self: flex-end; flex-direction: row-reverse; }
.chat-msg.system { align-self: center; max-width: 100%; }

.msg-avatar {
    width: 32px; height: 32px; border-radius: 50%; background: var(--border);
    color: var(--text-dim); display: flex; align-items: center; justify-content: center; font-weight: 700; flex-shrink: 0;
}
.msg-bubble {
    background: rgba(255,255,255,0.05); padding: 10px 15px; border-radius: 12px;
    border-bottom-left-radius: 2px; position: relative; border: 1px solid rgba(255,255,255,0.05);
}
.chat-msg.me .msg-bubble {
    background: rgba(59, 130, 246, 0.2); border-color: rgba(59, 130, 246, 0.3);
    border-bottom-left-radius: 12px; border-bottom-right-radius: 2px;
}
.chat-msg.system .msg-bubble { background: transparent; border: none; font-style: italic; color: var(--accent); }

.msg-author { font-size: 0.75rem; color: var(--primary); font-weight: 700; margin-bottom: 2px; }
.chat-msg.me .msg-author { display: none; }
.msg-text { color: var(--text-light); font-size: 0.95rem; line-height: 1.4; word-break: break-word; }
.msg-time { font-size: 0.65rem; color: var(--text-dim); text-align: right; margin-top: 4px; }
.chat-img-preview { max-width: 100%; max-height: 150px; border-radius: 6px; margin-top: 5px; cursor: pointer; }

/* Input */
.chat-input-wrapper {
    padding: 15px; background: var(--bg-card); border-top: 1px solid var(--border);
    display: flex; gap: 10px;
}
#chat-input {
    flex: 1; background: var(--bg-main); border: 1px solid var(--border);
    border-radius: 8px; padding: 12px 15px; color: white; outline: none;
}
#chat-input:focus { border-color: var(--primary); }
#chat-send-btn {
    background: var(--primary); color: white; border: none; border-radius: 8px; width: 45px;
    cursor: pointer; transition: 0.2s; display: flex; align-items: center; justify-content: center;
}
#chat-send-btn:hover { background: #2563eb; }

/* MOBİL */
@media (max-width: 1000px) {
    .home-layout-grid { grid-template-columns: 1fr; height: auto; overflow: visible; }
    .chat-container { height: 500px; }
    /* Mobilde yan sütunları alta atalım */
    .home-col-left, .home-col-right { order: 2; overflow: visible; }
    .home-col-center { order: 1; }
}